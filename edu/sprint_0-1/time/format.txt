Форматы времени. Пакет time
Аннотация

Сегодня мы рассмотрим основные принципы работы со временем в Go и познакомимся с различными форматами и стандартами времени, которые вам пригодятся.

Форматы времени

    Unix-время: количество секунд, которые прошли с начала «эпохи Unix» (1 января 1970 года) 1694298140
    Epoch time: количество миллисекунд, которые прошли с начала «эпохи Unix» 1694756605
    ISO 8601: универсальный формат даты и времени в виде строки в формате "YYYY-MM-DDTHH:mm:ss.sssZ". "T" разделяет дату и время, а "Z" указывает на часовой пояс UTC: 2019-09-07T-15:50+00
    RFC 2822: формат даты и времени, который используется в электронной почте в виде строки формата "ddd, DD MMM YYYY HH:mm:ss ±ZZZZ". "ddd" — день недели, "DD" — день месяца, "MMM" — сокращённое название месяца, "YYYY" — год, "HH:mm:ss" — время, а "±ZZZZ" — часовой пояс — разница во времени с UTC: Tue, 20 Jan 1970 21:45:56 GMT+07:00

В Go по умолчанию используется формат времени, аналогичный Unix-времени. Также здесь есть пакет time, который позволяет:

    получать текущее время
    форматировать время в заданный формат
    выполнять арифметические операции с датами и временем

Тип Go time.Time — это момент времени с точностью до наносекунд. Он может быть рассчитан из количества секунд с начала «эпохи Unix», из строки в заданном формате и т. д.

Пакет time

Рассмотрим пакет time подробнее. Он позволяет работать с различными форматами времени, в том числе ISO 8601 и RFC 2822. Доступ к базе данных часовых поясов IANA даёт пакет time/zoneinfo.

Вот как с помощью time можно получить текущее время:

    package main

    import (
        "fmt"
        "time"
    )

    func main() {
        now := time.Now()
        fmt.Println("Current time:", now)
    }

А вот как можно вычислить разницу между двумя моментами времени:

    package main

    import (
        "fmt"
        "time"
    )

    func main() {
        t1 := time.Date(2022, 1, 1, 0, 0, 0, 0, time.UTC)
        t2 := time.Now()
        diff := t2.Sub(t1)
        fmt.Println("Difference between t1 and t2:", diff)
    }

Этот код выведет разницу между моментом времени, который задан в переменной t1, и текущим моментом времени.
